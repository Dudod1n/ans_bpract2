# Задание: Практикум после вебинара
Данный репозиторий содержит решения на задание: Практикум после вебинара

Назначение репозитория - конфигурация двух удаленных машин при помощи Ansible. Для выполнения данной задачи созданы роли.
На одном сервере поднимается Nginx для проксирования запросов php на сервер с php-fpm, который слушает 9000 порт.

## Описание ролей

1. roles/users: Данная роль создает пользователя с авторизацией по ключу, от лица которго будут запускаться сервисы.
2. roles/http: Данная роль устанавливает nginx и задает ему конфигурационные файлы для проксирования php скрипта на другой сервер.
3. roles/php: Данная роль устанавливает php8.1-fpm и задает ему конфигурационные файлы для исполнения получаемого скрипта от сервера nginx.

## Структура репозитория

- **dir: inventories** - содержит информацию о хостах, на которых будет работать Ansible.
- **dir: inventories/group_vars** - содержит переменные для группы хостов.
- **file: inventories/hosts** - содержит адреса хостов.
- **dir: roles** - содержит роли Ansible.
- **dir: roles/[users, http, php]** - содержат файлы ролей, их настройки и задания.
- **file: main.yml** - основной плейбук, запускающий работу ролей. В нём назначаются роли для определенных групп хостов.

**Некоторые файлы зашифрованы ansible-vault**
![Логотип Ansible](https://velog.velcdn.com/images/salgu1998/post/c94c5162-95c3-4159-98bf-9f12446b381a/image.png)